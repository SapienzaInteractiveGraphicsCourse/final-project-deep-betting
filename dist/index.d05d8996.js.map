{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-c1042e39b5c45cbc.js","js/scripts_v10.js","node_modules/three/examples/jsm/controls/OrbitControls.js","node_modules/cannon-es-debugger/dist/cannon-es-debugger.js","node_modules/@parcel/runtime-js/lib/runtime-dd9b0e147793a68a.js","node_modules/@parcel/runtime-js/lib/runtime-8bd93a13ef33fadc.js","node_modules/@parcel/runtime-js/lib/runtime-c0dfb50ab4dd4d5a.js","node_modules/@parcel/runtime-js/lib/runtime-1b577f0101896702.js","node_modules/@parcel/runtime-js/lib/runtime-354c97bafb56a7bd.js","node_modules/@parcel/runtime-js/lib/runtime-251981f1545a7c37.js","node_modules/@parcel/runtime-js/lib/runtime-efb919297cf950a6.js","node_modules/@parcel/runtime-js/lib/runtime-fccf3507df75d59e.js","node_modules/@parcel/runtime-js/lib/runtime-8c05bec61b13de05.js","node_modules/@parcel/runtime-js/lib/runtime-1702103af07b6ca1.js","node_modules/@parcel/runtime-js/lib/runtime-ffdbb77d6c508304.js","node_modules/@parcel/runtime-js/lib/runtime-9ded2368240e3c34.js","node_modules/@parcel/runtime-js/lib/runtime-f15ff8e989b2741e.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"d21fb554d05d8996\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, globalThis, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\n\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets\n/*: {|[string]: boolean|} */\n, assetsToDispose\n/*: Array<[ParcelRequire, string]> */\n, assetsToAccept\n/*: Array<[ParcelRequire, string]> */\n;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n} // eslint-disable-next-line no-redeclare\n\n\nvar parent = module.bundle.parent;\n\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // Web extension context\n\n  var extCtx = typeof chrome === 'undefined' ? typeof browser === 'undefined' ? null : browser : chrome; // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n\n  var supportsSourceURL = false;\n\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  } // $FlowFixMe\n\n\n  ws.onmessage = async function (event\n  /*: {data: string, ...} */\n  ) {\n    checkedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data\n    /*: HMRMessage */\n    = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH); // Handle HMR Update\n\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n\n      if (handled) {\n        console.clear(); // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n\n        await hmrApplyUpdates(assets); // Dispose all old assets.\n\n        let processedAssets = {}\n        /*: {|[string]: boolean|} */\n        ;\n\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        } // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n\n\n        processedAssets = {};\n\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe\n\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\n\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\n\nfunction getParents(bundle, id)\n/*: Array<[ParcelRequire, string]> */\n{\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n\n  newLink.setAttribute('href', // $FlowFixMe\n  link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe\n\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\n\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href\n      /*: string */\n      = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n\n      return new Promise((resolve, reject) => {\n        var _document$head;\n\n        script.onload = () => resolve(script);\n\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 ? void 0 : _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\n\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension bugfix for Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1255412#c12\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3) {\n            if (typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n              extCtx.runtime.reload();\n              return;\n            }\n\n            asset.url = extCtx.runtime.getURL('/__parcel_hmr_proxy__?url=' + encodeURIComponent(asset.url + '?t=' + Date.now()));\n            return hmrDownload(asset);\n          }\n\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n\n          (_document$head2 = document.head) === null || _document$head2 === void 0 ? void 0 : _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\n\nfunction hmrApply(bundle\n/*: ParcelRequire */\n, asset\n/*:  HMRAsset */\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      } // $FlowFixMe\n\n\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\n\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    } // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n\n\n    delete modules[id];\n    delete bundle.cache[id]; // Now delete the orphans.\n\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\n\nfunction hmrAcceptCheck(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  } // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n\n\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n\n      parents.push(...p);\n    }\n  }\n\n  return accepted;\n}\n\nfunction hmrAcceptCheckOne(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return true;\n  }\n\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\n\nfunction hmrDispose(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n\n  delete bundle.cache[id];\n}\n\nfunction hmrAccept(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  // Execute the module.\n  bundle(id); // Run the accept callbacks in the new version of the module.\n\n  var cached = bundle.cache[id];\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        }); // $FlowFixMe[method-unbinding]\n\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","import * as THREE from 'three';\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls.js';\nimport {GLTFLoader} from 'three/examples/jsm/loaders/GLTFLoader'\nimport  * as dat from \"dat.gui\"\nimport gsap from 'gsap'\nimport * as CANNON from 'cannon-es';\nimport CannonDebugger from 'cannon-es-debugger'\n\n\n\nimport {dumpObject} from './utility.js'\nimport {Robot} from './robot.js'\nimport {Obstacle} from './obstacle.js'\n\n//----NUOVE COSTANTI----\nvar robotArray = [];\n\n\n\n//--------------START -----------------\nconst timeStep = 1 / 60;\nconst world = new CANNON.World({\n    gravity: new CANNON.Vec3(0, -100, 0)\n});\n\n//---------------- COSTANTI ----------------\nlet currentPrice = 40;\nconst settings = {\n    spawnAmount: 3,\n}\n//----------------  END COSTANTI ---------------\n\n//-------------- ASSETS -----------\nconst scuderia = new URL('../assets/Houses_SecondAge_1_Level1.gltf', import.meta.url)\nconst muro1 = new URL('../assets/Wall_FirstAge.gltf', import.meta.url)\nconst paglia = new URL('../assets/Farm_FirstAge_Level3_Wheat.gltf', import.meta.url)\n\nimport skySceneBG from \"../assets/sky_bg.png\"\nimport landSceneBG from \"../assets/land_bg.png\"\nimport groundTexture from \"../assets/groundtexture.png\"\nimport shiftButton from \"../assets/shift.png\"\nimport spaceButton from \"../assets/space.png\"\n\nconst scene = new THREE.Scene();\nconst loadingManager = new THREE.LoadingManager();\nconst assetLoader = new GLTFLoader(loadingManager);\n\nconst progressBar = document.querySelector('#progress-bar');\n\nloadingManager.onProgress = function(url,loaded,total){\n    progressBar.value = (loaded/total)*100;\n}\n\n\n\nconst progressBarContainer = document.querySelector('.progress-bar-container');\nloadingManager.onLoad = function (){\n    progressBarContainer.style.display = 'none';\n}\n\nconst cubeTextureLoader = new THREE.CubeTextureLoader(loadingManager);\nscene.background = cubeTextureLoader.load([\n    skySceneBG,\n    skySceneBG,\n    skySceneBG,\n    landSceneBG,\n    skySceneBG,\n    skySceneBG\n]);\n\n\nlet wallList = [];\nlet wallBodyList = [];\n\n\nvar obstacleArray = [];\n//-------------- END ASSETS -----------\n\n// ----------- GLOBAL VARIABLES ----------\nconst tl = gsap.timeline(); //timeline for animations\nlet state = 0;\nvar releaseMode = false;\nvar time = 0; //time to manage the countdown\n\n//competition variables\nvar cameraBehindRobotFinished = false;\nvar countDownFinished = false;\nvar myRobotIndex = 2;\nvar myRobotSpeed = 0.3\n\nvar competitionTimerStart = 0;\nvar timerDelta = 0;\n\n// highlight mesh while robot is apporaching to an obstacle\nvar highlightMeshTracker = {}\n\n//Sounds variables\nvar countDownSoundURL = require('url:../assets/sounds/countdown.mp3');\nvar startSoundURL = require('url:../assets/sounds/start.mp3');\nvar popURL = require('url:../assets/sounds/pop.mp3');\nvar trashURL = require('url:../assets/sounds/trash.mp3');\nvar eyeOfTheTigerURL = require('url:../assets/sounds/eyeofthetiger.mp3');\nvar countDownSound = new Audio(countDownSoundURL);\nvar startSound = new Audio(startSoundURL);\nvar popSound = new Audio(popURL);\nvar trashSound = new Audio(trashURL);\nvar eyeOfTheTigerSound = new Audio(eyeOfTheTigerURL);\nvar playedSoundsCountdown = [false,false,false,false];\n\n\n//for animate function\nconst clock =  new THREE.Clock();\n\n//creative mode variables\nvar intersects;\n\n//spawing variables\nvar spawned = false; //to communicate that the spawning is finished\nvar cameraSpawningFinished = false; //to communicate that the spawning camera animation is finished\n\n//winnings variables\nvar winnerScreen = false;\nvar winnerRobot = null\n//---------- END GLOBAL VARIABLES ----------\n\nconst renderer = new THREE.WebGLRenderer({antialias: true});\nrenderer.setSize(window.innerWidth, window.innerHeight);\ndocument.body.appendChild(renderer.domElement);\n\n// Sets the color of the background\nrenderer.setClearColor(0x000000);\nrenderer.shadowMap.enabled = true;\n\n\nconst camera = new THREE.PerspectiveCamera(\n    20,\n    window.innerWidth / window.innerHeight,\n    0.1,\n    1000\n);\n\n// Sets orbit control to move the camera around\nconst orbit = new OrbitControls(camera, renderer.domElement);\norbit.update();\n\n\n\n\nconst textureLoader = new THREE.TextureLoader();\nconst texture = textureLoader.load(groundTexture);\n\nconst planeMesh = new THREE.Mesh(\n    new THREE.PlaneGeometry(300, 100),\n    new THREE.MeshStandardMaterial({\n        side: THREE.DoubleSide,\n        map: texture,\n        bumpMap: texture,\n        bumpScale: 5, // adjust the strength of the bump map\n        // color: 0x4da42D,\n        visible: true\n    })\n);\nplaneMesh.rotateX(-Math.PI / 2);\nscene.add(planeMesh);\nplaneMesh.receiveShadow = true;\n\nconst groundPhysMat = new CANNON.Material({\n    friction: 100,\n});\nconst groundBody = new CANNON.Body({\n    // shape: new CANNON.Plane(), //infinite plane\n    shape: new CANNON.Box(new CANNON.Vec3(150, 0.1, 50)),\n    position: new CANNON.Vec3(0, -0.1, 0),\n    material: groundPhysMat\n});\nworld.addBody(groundBody);\n\n//END PLANE\n\n\n\n//----------START Lights---------\nconst ambientLight = new THREE.AmbientLight(0xFEFEFE,0.4);\nscene.add(ambientLight);\n\nconst directionalLight = new THREE.DirectionalLight(0xFEFCDB, 0.8);\nscene.add(directionalLight);\ndirectionalLight.position.set(-20, 50, 0);\ndirectionalLight.castShadow = true;\ndirectionalLight.shadow.camera.bottom = -50;\ndirectionalLight.shadow.camera.top = 50;\ndirectionalLight.shadow.camera.left = -100;\ndirectionalLight.shadow.camera.right = +100;\n//--------------END LIGHTS--------------\n\n\n//set some Options\nvar options = {\n    directionalLight: {\n        x: 0,\n        y: 50,\n        z: 0,\n        rot_x: 0,\n        rot_y: 0,\n        rot_z: 0,\n    },\n    camera:{\n        rot_x: camera.rotation.x,\n        rot_y: camera.rotation.y,\n        rot_z: camera.rotation.z,\n    },\n    gameConstants:{\n        num_robots: 5,\n        indexCameraFollows: myRobotIndex,\n        camera_view: 'third_person',\n        spawnAnimationCameraDuration: 10,\n        buttonsInstructionsFadeDuration: 15,\n    },\n    settings: {\n        sound_enabled: true,\n        physic_debug: false,\n    },\n    robotAnimationsActive:{\n        0: 'running',\n        1: 'running',\n        2: 'running',\n        3: 'running',\n        4: 'running',\n    }\n}\n\nvar PressedKeys ={\n    space: false,\n    shift: false,\n}\n\n\n//--- Cannon debugger\nconst cannonDebugger = new CannonDebugger(scene, world,{\n    onUpdate: (body,mesh) => {\n        if(options.settings.physic_debug == true){\n            mesh.visible = true;\n        }else{\n            mesh.visible = false;\n        }\n    }\n});\n\n\n//COMPETITION\nfunction managePreCompetition(){\n    let countDownElement = document.querySelector('#countdown-current-value')\n    countDownElement.style.opacity = 1;\n\n    //move the camera behind the robot\n    if(!cameraBehindRobotFinished){\n        //set the fov of the camera to 75\n        camera.fov = 55;\n        camera.updateProjectionMatrix();\n\n        cameraBehindRobotFinished = true;\n        tl.to(camera.position,{\n            x: robotArray[myRobotIndex].mesh.position.x - 30,\n            y: robotArray[myRobotIndex].mesh.position.y + 15,\n            z: robotArray[myRobotIndex].mesh.position.z,\n            duration: 2,\n            onUpdate: function(){\n                camera.lookAt(robotArray[myRobotIndex].mesh.position.x,robotArray[myRobotIndex].mesh.position.y,robotArray[myRobotIndex].mesh.position.z)\n            },\n            onComplete: function() {\n                console.log('Camera behind the robot ---> complete');\n                tl.clear();\n            }\n        })\n    }\n    //todo this coundown is repeating even if has been completed\n    if(!countDownFinished){\n        countDownStarted = true;\n        tl.to(countDownElement,{\n            duration: 4.5,\n            onUpdate: function(){\n                countDownCompetitionManagement(tl.time());\n            },\n            onComplete: function() {\n                console.log('Countdown ---> complete');\n                countDownFinished = true;\n            }\n        })\n    }else{\n        for(let i = 0; i< robotArray.length; i++){\n            robotArray[i].mixer.stopAllAction();\n        }\n    }\n}\n\nfunction hideCountdown(){\n    let countDownElement = document.querySelector('.countdown-competition');\n    if(countDownElement){\n        countDownElement.classList.add('hide-animation');\n    }\n    setTimeout(function(){\n        countDownElement.remove();\n    }\n    ,3000);\n\n}\n\nfunction manageRunning(){\n    myRobotCompetitionManager();\n    for(let i = 0; i< robotArray.length; i++){\n        if(i != myRobotIndex){\n            robotCompetitionManager(i)\n        }\n    }\n    manageTimer()\n    checkForWinner();\n}\n\nfunction manageTimer(){\n    timerDelta = ((new Date() - competitionTimerStart)/1000).toFixed(2);\n    document.querySelector('#competition-timer-value').innerHTML = \"Timer : \" +timerDelta + \"s\";\n}\n\n\nfunction robotCompetitionManager(robotIndex){\n    if(robotIndex != myRobotIndex){\n        robotArray[robotIndex].mesh.position.setX(robotArray[robotIndex].mesh.position.x + robotArray[robotIndex].speed)\n        robotArray[robotIndex].physicsBody.position.x = (robotArray[robotIndex].physicsBody.position.x + robotArray[robotIndex].speed)\n    }\n}\n\n\nfunction myRobotCompetitionManager(){ //function manager of the behaviour of my robot\n    robotArray[myRobotIndex].mesh.position.setX(robotArray[myRobotIndex].mesh.position.x + robotArray[myRobotIndex].speed )\n    if(options.gameConstants.camera_view == 'third_person'){\n        camera.position.setX(robotArray[options.gameConstants.indexCameraFollows].mesh.position.x - 30)\n        camera.position.setZ(robotArray[options.gameConstants.indexCameraFollows].mesh.position.z )\n    }else{\n        camera.position.setX(robotArray[options.gameConstants.indexCameraFollows].mesh.position.x + 50)\n        camera.position.setY(robotArray[options.gameConstants.indexCameraFollows].mesh.position.y + 20)\n        camera.position.setZ(50)\n    }\n    camera.lookAt(robotArray[options.gameConstants.indexCameraFollows].mesh.position.x,robotArray[options.gameConstants.indexCameraFollows].mesh.position.y,robotArray[options.gameConstants.indexCameraFollows].mesh.position.z)\n    orbit.target.set(robotArray[options.gameConstants.indexCameraFollows].mesh.position.x,robotArray[options.gameConstants.indexCameraFollows].mesh.position.y,robotArray[options.gameConstants.indexCameraFollows].mesh.position.z);\n}\n\n\n\n\nfunction setRobotInitialSpeed(){\n    for(let i = 0; i < robotArray.length; i++){\n        if(i == myRobotIndex){\n            robotArray[i].speed = myRobotSpeed\n            robotArray[i].backup_speed = myRobotSpeed\n            robotArray[i].initial_speed = myRobotSpeed\n        }else{\n            //random speed between 0.1 and 0.3\n            robotArray[i].speed  = Math.random() * (0.3 - 0.1) + 0.1;\n            robotArray[i].initial_speed = robotArray[i].speed\n            robotArray[i].backup_speed = robotArray[i].speed\n        }\n    }\n}\n\nvar reducingSpeed = false\nfunction robotCollisonHandler(e){\n    let spawnedObstacle = obstacleArray.filter(obstacle => obstacle.is_spawned == true);\n    let index = spawnedObstacle.findIndex(obstacle => obstacle.physicsBody.id == e.body.id);\n    if(index != -1){\n        if(reducingSpeed == false && robotArray[myRobotIndex].speed  > 0.1){\n            robotArray[myRobotIndex].speed -= 0.03\n            console.log(\"diminuisco la velocita -->\", robotArray[myRobotIndex].speed)\n        }else{\n            reducingSpeed = true\n        }\n    }\n}\n\nfunction countDownCompetitionManagement(time){\n    var countDown = document.querySelector('#countdown-current-value')\n    document.querySelector('#start-game').style.display = 'none';\n    if(countDown){\n        if(time>1 && time<2){\n            countDown.innerHTML = \"3\";\n            if(!countDownSound.isPlaying && !playedSoundsCountdown[0]  && options.settings.sound_enabled == true){\n                countDownSound.play();\n                playedSoundsCountdown[0] = true;\n            }\n        }\n        if(time>= 2 && time<3){\n            countDown.innerHTML = \"2\";\n            if(!countDownSound.isPlaying && !playedSoundsCountdown[1] && options.settings.sound_enabled == true){\n                countDownSound.play();\n                playedSoundsCountdown[1] = true;\n            }\n        }\n        if(time>3 && time<4){\n            countDown.innerHTML = \"1\";\n            if(!countDownSound.isPlaying && !playedSoundsCountdown[2] && options.settings.sound_enabled == true){\n                countDownSound.play();\n                playedSoundsCountdown[2] = true;\n            }\n        }\n        if(time>=4){\n            countDown.innerHTML = \"VIA\";\n            if(!startSound.isPlaying && !playedSoundsCountdown[3] && options.settings.sound_enabled == true){\n                startSound.play();\n                playedSoundsCountdown[3] = true;\n            }\n        }\n    }\n}\n\nfunction checkForWinner(){\n    if(!winnerScreen){\n        for (let i = 0; i < robotArray.length; i++) {\n            if(robotArray[i].mesh.position.x >= 120){\n                winnerScreen = true\n                winnerRobot = i;\n                winnerTimer = timerDelta;\n                printWinnerScreen();\n                state = \"winner\";\n            }\n        }\n    }\n}\n\nfunction printWinnerScreen(){\n    for (let i = 0; i < robotArray.length; i++) {\n        robotArray[i].mixer.stopAllAction();\n    }\n\n    document.querySelector('.winner-screen').classList.remove('d-none');\n\n    //add to the .message.competition-timer the class d-none\n    document.querySelector('.message.competition-timer').classList.add('d-none');\n\n    if(winnerRobot == myRobotIndex){\n        document.querySelector('.lost-container').classList.add('d-none');\n        document.querySelector('#winner-screen-message').innerHTML = \"YOU WON!\";\n        document.querySelector('#winner-time').classList.add('d-none');\n        document.querySelector('#your-time').innerHTML = \"Your time: <b>\"+timerDelta+\"s</b>\";\n    }else{\n        document.querySelector('.trofeo-container').classList.add('d-none');\n        document.querySelector('#winner-screen-message').innerHTML = \"YOU LOST!\";\n        document.querySelector('#winner-time').innerHTML = \"Winner time: <b>\"+timerDelta+\"s</b>\";\n        document.querySelector('#your-time').classList.add('d-none');\n    }\n}\n//END COMPETITIOn\n\n\nfunction animate() {\n    world.step(timeStep);\n    TWEEN.update();\n\n    cannonDebugger.update();\n    //State management\n    switch(state){\n        case 'spawning':\n            document.querySelector('.message-spawning').classList.remove('d-none');\n            spawnOstacoli(tl,settings.spawnAmount);\n            if(spawned == true && cameraSpawningFinished == true){\n                document.querySelector('.message-spawning').classList.add('d-none');\n                state='competition';\n                console.log('Move to competition state')\n            }\n            break;\n        case 'competition':\n            if(countDownFinished) {\n                hideCountdown();\n                document.querySelector('.competition-timer').style.display = \"block\";\n                competitionTimerStart = Date.now();\n                //enable the running clip for all the robots\n                for(let i = 0; i < robotArray.length; i++){\n                    robotArray[i].runningClip();\n                }\n                state='running';\n            }\n            else{\n                managePreCompetition()\n            }\n            break\n        case 'running':\n            manageRunning();\n            break;\n        case 'winner':\n            break;\n    }\n\n    linkMeshesAndBody(planeMesh,groundBody)\n    linkMeshesAndBody(wallList,wallBodyList)\n    if(Obstacle.loaded) {\n        linkMeshesAndBody(obstacleArray)\n    }\n\n    const delta = clock.getDelta();\n    if(Robot.loaded){\n        for(let i = 0; i < robotArray.length ; i++){\n            robotArray[i].linkMeshAndBody();\n            robotArray[i].updateMixer(delta);\n        }\n    }\n    renderer.render(scene, camera);\n}\n\n\n\n// start the rendering loop\nrequestAnimationFrame(animate);\nrenderer.setAnimationLoop(animate);\n\nwindow.addEventListener('resize', function() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n});\n\n\n\n\n\n\n//-----------------------FUNCTIONS-----------------\nfunction createWorld(assetLoader){\n    //This function takes care to add all the assets in the world as well as attach to them a cannonjs body\n    if (Robot.loaded) {\n        createRobots()\n        setRobotInitialSpeed();\n        camera.position.set(robotArray[options.gameConstants.indexCameraFollows].mesh.position.x+30, robotArray[options.gameConstants.indexCameraFollows].mesh.position.y + 14, robotArray[options.gameConstants.indexCameraFollows].mesh.position.z);\n        camera.lookAt(robotArray[options.gameConstants.indexCameraFollows].mesh.position.x,robotArray[options.gameConstants.indexCameraFollows].mesh.position.y,robotArray[options.gameConstants.indexCameraFollows].mesh.position.z)\n        orbit.target.set(robotArray[options.gameConstants.indexCameraFollows].mesh.position.x,robotArray[options.gameConstants.indexCameraFollows].mesh.position.y,robotArray[options.gameConstants.indexCameraFollows].mesh.position.z);\n    }\n\n    createScuderie(assetLoader,5,{width:100,heigth:100})\n    createPaglia(assetLoader,5)\n    createWalls(assetLoader,38,6,{width:100,heigth:100})\n\n    if(Robot.loaded){\n        for(let i = 0; i < robotArray.length; i++){\n            if(i == myRobotIndex){\n                console.log(\"adding collision handler to my robot\")\n                robotArray[i].physicsBody.addEventListener(\"collide\", robotCollisonHandler);\n            }\n            else{\n                console.log(\"adding collision handler to robot \"+i)\n                robotArray[i].physicsBody.addEventListener(\"collide\", function(e){\n                    robotArray[i].jumpAnimation()\n                    robotArray[i].speed = robotArray[i].backup_speed;\n                    console.log(\"Set speed to \"+robotArray[i].speed)\n                });\n            }\n        }\n        state = 'waitingForSpawn'\n    }\n}\n\nfunction createRobots(){\n    //Create the robots\n    for(let i = 0; i < options.gameConstants.num_robots; i++){\n        robotArray.push(new Robot(scene,world, -125, 0.1,((-30)+(i*15))));\n        if(i == myRobotIndex) robotArray[i].is_my_robot = true;\n    }\n}\n\nfunction createWalls(assetLoader,num_walls,num_lines,world_size){\n    //Caricamento Muri\n    let wallModel ;\n    assetLoader.load(muro1.href,function(gltf){\n        wallModel = gltf.scene.children[0]; // get the root object of the model\n        wallModel.position.set(-130, 0, -37,5); // set the initial position of the model\n        wallModel.scale.set(5,5,5)\n        scene.add(wallModel); // add the model to the scene\n\n\n        // Create copies of the model and add them to the scene\n        const wallSpacing = 15;\n\n        if(wallModel){\n            for (let i = 0; i < num_lines; i++) {\n                for (let j = 0 ; j< num_walls; j++){\n                    const wall = wallModel.clone();\n                    wall.position.set(wall.position.x + (j * 7) , 0, wall.position.z + (i * wallSpacing));\n                    wallList.push(wall);\n                    scene.add(wall);\n\n                    //create a cannonjs body for the wall\n                    const boundingBox = new THREE.Box3().setFromObject(wallModel);\n                    const size = new CANNON.Vec3();\n                    size.x = Math.abs(boundingBox.max.x - boundingBox.min.x);\n                    size.y = Math.abs(boundingBox.max.y - boundingBox.min.y);\n                    size.z = Math.abs(boundingBox.max.z - boundingBox.min.z);\n                    const shape = new CANNON.Box(size);\n                    const wallBody = new CANNON.Body({\n                        mass: 30 ,\n                        shape: shape,\n                        position: new CANNON.Vec3(wall.position.x, wall.position.y, wall.position.z),\n                        type: CANNON.Body.STATIC\n                    });\n                    world.addBody(wallBody);\n                    wallBodyList.push(wallBody);\n                }\n            }\n            console.log('Walls added to the scene')\n        }\n    });\n}\n\nfunction createScuderie(assetLoader,num_lines,world_size){\n    //Caricamento Scuderie\n    let scuderiaMesh = null;\n    assetLoader.load(scuderia.href, function(gltf){\n        scuderiaMesh = gltf.scene.children[0];\n        scene.add(scuderiaMesh);\n        scuderiaMesh.traverse(function(node){\n            if(node.isMesh) node.castShadow = true;\n        })\n        scuderiaMesh.scale.set(8,8,8);\n        scuderiaMesh.position.set(-130,0.1,-30);\n        scuderiaMesh.rotation.set(0,Math.PI/2,0);\n\n        const wallSpacing = 15;\n        if(scuderiaMesh){\n            for (let i = 0; i < num_lines; i++) {\n                const scuderia = scuderiaMesh.clone();\n                scuderia.position.set(scuderia.position.x,scuderia.position.y,scuderia.position.z + (i * 15))\n                scene.add(scuderia)\n            }\n        }\n\n\n    },undefined,function(error){\n        console.log(error)\n    })\n}\n\nfunction createPaglia(assetLoader, num_lines) {\n    let pagliaMesh = null;\n    assetLoader.load(\n      paglia.href,\n      function (gltf) {\n        pagliaMesh = gltf.scene.children[0];\n        scene.add(pagliaMesh);\n        pagliaMesh.traverse(function (node) {\n          if (node.isMesh) node.castShadow = true;\n        });\n        pagliaMesh.scale.set(3, 3, 3);\n        pagliaMesh.rotation.set(0, Math.PI / 2, 0);\n\n        if (pagliaMesh) {\n          // create and add paglia meshes\n          addPagliaMeshes(pagliaMesh, -120, 0.2, -35, 2, 51);\n          addPagliaMeshes(pagliaMesh.clone(), -120, 0.2, -19.7, 2, 51, { x: 2.7 });\n          addPagliaMeshes(pagliaMesh.clone(), -120, 0.2, -4.7, 2, 51, { x: 2.7 });\n          addPagliaMeshes(pagliaMesh.clone(), -120, 0.2, 10.5, 2, 51, { x: 2.7 });\n          addPagliaMeshes(pagliaMesh.clone(), -120, 0.2, 25.5, 2, 51, { x: 2.7 });\n        }\n      },\n      undefined,\n      function (error) {\n        console.log(error);\n      }\n    );\n}\n\nfunction addPagliaMeshes(pagliaMesh, startX, startY, startZ, numLayers, numColumns, options = {} ) {\n    const { x = 3, y = 3, z = 3 } = options;\n    pagliaMesh.scale.set(x, y, z);\n    pagliaMesh.position.set(startX, startY, startZ);\n    for (let i = 0; i < numLayers; i++) {\n        for (let j = 0; j < numColumns; j++) {\n        const paglia = pagliaMesh.clone();\n        paglia.position.set(\n            paglia.position.x + j * 5,\n            paglia.position.y,\n            paglia.position.z + i * 10\n        );\n        scene.add(paglia);\n    }\n}\n}\n\n\n\n//FOR CREATIVE MODE MANAGING\nvar highlightMesh = new THREE.Mesh(\n    new THREE.PlaneGeometry(3,3),\n    new THREE.MeshBasicMaterial({\n        side: THREE.DoubleSide,\n        transparent: false\n    })\n);\nhighlightMesh.rotateX(-Math.PI / 2);\nhighlightMesh.material.color.setHex(0x0000FF);\nscene.add(highlightMesh);\nfunction mouseMoveAddOstacoli(e){\n    const mousePosition = new THREE.Vector2();\n    const raycaster = new THREE.Raycaster();\n\n    mousePosition.x = (e.clientX / window.innerWidth) * 2 - 1;\n    mousePosition.y = -(e.clientY / window.innerHeight) * 2 + 1;\n\n    raycaster.setFromCamera(mousePosition, camera);\n    intersects = raycaster.intersectObject(planeMesh);\n    if(intersects.length > 0) {\n        const intersect = intersects[0];\n        // console.log(intersect)\n        const highlightPos = new THREE.Vector3().copy(intersect.point).floor();\n\n        highlightMesh.position.set(highlightPos.x, 0.1, highlightPos.z);\n\n        const objectExist = obstacleArray.find(function(object) {\n            return (object.mesh.position.x + 3 >= highlightMesh.position.x ) && (object.mesh.position.x - 3 < highlightMesh.position.x)\n            && (object.mesh.position.z + 3 >= highlightMesh.position.z) && (object.mesh.position.z - 3 < highlightMesh.position.z)\n        });\n\n        const possibleToRelease =  check_possible_release_ostacolo(highlightMesh.position.x,highlightMesh.position.z );\n\n        if(!objectExist && possibleToRelease)\n            highlightMesh.material.color.setHex(0xFFFFFF); //white\n        else\n            highlightMesh.material.color.setHex(0xFF0000); //red\n    }\n}\n\nfunction insertOstacoli(assetLoader){\n    //AGGIUNGI OSTACOLI ALLA PISTA\n    let releaseMode = document.querySelector('#release-obstacle').getAttribute(\"enabled\");\n    console.log(\"Release mode: \",releaseMode)\n\n    if(releaseMode == \"false\"){\n        scene.remove(highlightMesh)\n    }else{\n        scene.add(highlightMesh)\n        window.addEventListener('mousemove', mouseMoveAddOstacoli );\n        window.addEventListener('mousedown', function() {\n            var cash_val = document.querySelector(\"#cash-value\");\n\n            const objectExist = obstacleArray.find(function(object) {\n                return (object.mesh.position.x + 3 >= highlightMesh.position.x ) && (object.mesh.position.x - 3 < highlightMesh.position.x)\n                && (object.mesh.position.z + 3 >= highlightMesh.position.z) && (object.mesh.position.z - 3 < highlightMesh.position.z)\n            });\n\n\n\n\n            if(!objectExist) {\n                if(currentPrice >= 10){\n                    if(intersects.length > 0) {\n                        const possibleToRelease =  check_possible_release_ostacolo(highlightMesh.position.x,highlightMesh.position.z );\n                        if(possibleToRelease){\n                            let ostacolo = new Obstacle(scene,world,highlightMesh.position.x,highlightMesh.position.y,highlightMesh.position.z,false);\n                            if(options.settings.sound_enabled==true){\n                                popSound.play();\n                            }\n                            currentPrice -= 10;\n                            cash_val.innerHTML = currentPrice;\n\n                            //aggiungo ostacolo al mondo\n                            obstacleArray.push(ostacolo);\n                            console.log(\"Ostacoli inseriti-> \",obstacleArray.length)\n                        }\n                    }\n                }else{\n                    let budgetFinished = document.querySelector(\"#budget-finished\");\n                    budgetFinished.classList.remove(\"d-none\");\n                    budgetFinished.style.opacity = 1;\n                    new TWEEN.Tween(budgetFinished.style.opacity)\n                        .to(0, 1000)\n                        .onComplete(function(){\n                            document.querySelector(\"#budget-finished\").classList.add(\"d-none\");\n                        })\n                        .start()\n                }\n\n            }else{\n                //rimuovi ostacolo piazzato\n                let ostacoliList_obj_index = obstacleArray.findIndex((element) => element.mesh.uuid === objectExist.mesh.uuid)\n                if(ostacoliList_obj_index != -1){\n                    world.removeBody(obstacleArray[ostacoliList_obj_index].physicsBody)\n                    scene.remove(obstacleArray[ostacoliList_obj_index].mesh);\n                    if(options.settings.sound_enabled==true){\n                        trashSound.play();\n                    }\n                    console.log(\"Obstacle array before remove: \",obstacleArray)\n                    obstacleArray = obstacleArray.slice(0,ostacoliList_obj_index).concat(obstacleArray.slice(ostacoliList_obj_index+1));\n                    console.log(\"Obstacle array after remove: \",obstacleArray)\n\n                    highlightMesh.material.color.setHex(0xFFFFFF);\n                    currentPrice += 10;\n                    document.querySelector(\"#budget-finished\").classList.add(\"d-none\");\n                    cash_val.innerHTML = currentPrice;\n                }\n            }\n        });\n    }\n    //END AGGIUNGI OSTACOLI\n}\n\nfunction check_possible_release_ostacolo(x,z){\n    if(z != 30 && z != 15 && z != -15 && z != -30 ){\n        return false;\n    }\n    if(x < -100 || x > 100){\n        return false;\n    }\n    return true;\n}\n\nfunction getLinesRange(){\n    return {\n        line0: {\n            z_start: 23,\n            z_end: -37\n        },\n        line1: {\n            z_start: -9,\n            z_end: -22\n        },\n        line2: {\n            z_start: 7,\n            z_end: -8\n        },\n        line3: {\n            z_start: 22,\n            z_end: 8\n        },\n        line4: {\n            z_start: 37,\n            z_end: 23\n        }\n    }\n}\n\nfunction getObstaclesInLine(lineNumber) {\n    const linesRange = getLinesRange();\n    const line = `line${lineNumber}`;\n    const zStart = linesRange[line].z_start;\n    const zEnd = linesRange[line].z_end;\n\n    return ostacoliBodyList.filter((obstacle) => {\n      return obstacle.position.z >= zEnd && obstacle.position.z <= zStart;\n    });\n}\n//END CREATIVE MODE\n\n//Spawn ostacoli\n\nfunction spawnOstacoli(tl, spawnAmount) {\n    if(!spawned){\n        spawned = true;\n        console.log(\"Spawning ostacoli ....\")\n        tl.clear();\n        const obstacleDistance = 20;\n\n        var center = { x: 0, y: 0, z: 0 };\n        var radius = 300;\n        var duration = options.gameConstants.spawnAnimationCameraDuration;\n\n        tl.to(camera.position, {\n            x: center.x + radius,\n            y: 200,\n            z: center.z,\n            duration: duration / 4,\n            ease: \"circ.out\",\n            onUpdate: function(){\n                camera.fov = 180;\n                camera.lookAt(0,0,0)\n            },\n        })\n        .to(camera.position, {\n            x: center.x,\n            y: 200,\n            z: center.z - radius,\n            duration: duration / 4,\n            ease: \"circ.out\",\n            onUpdate: function(){\n                camera.fov = 180;\n                camera.lookAt(0,0,0)\n            },\n        })\n        .to(camera.position, {\n            x: center.x - radius,\n            y: 200,\n            z: center.z,\n            duration: duration / 4,\n            ease: \"circ.out\",\n            onUpdate: function(){\n                camera.fov = 180;\n                camera.lookAt(0,0,0)\n            },\n        })\n        .to(camera.position, {\n            x: center.x,\n            y: 200,\n            z: center.z + radius,\n            duration: duration / 4,\n            ease: \"circ.out\",\n            onUpdate: function(){\n                camera.fov = 180;\n                camera.lookAt(0,0,0)\n            },\n            onComplete: function(){\n                cameraSpawningFinished = true;\n                console.log(\"Camera spawning finished\")\n            }\n        });\n\n\n        let previousObstacleX = []\n        for (let i = 0; i < spawnAmount; i++) {\n            //ensure that the obstacles are not spawned too close to each other\n            let position =  Math.floor(Math.random() * (100 - (-100) + 1)) + (-100)\n            while(isTooClose(position,previousObstacleX,obstacleDistance)){\n                position =  Math.floor(Math.random() * (100 - (-100) + 1)) + (-100);\n            }\n            previousObstacleX.push(position);\n            let ostacolo = new Obstacle (scene,world,position,40,0,true)\n            obstacleArray.push(ostacolo)\n        }\n\n    }\n}\n\nfunction isTooClose(position,previousObstacleX,distance){\n    for(let i = 0; i < previousObstacleX.length; i++){\n        if(Math.abs(position - previousObstacleX[i]) < distance){\n            return true;\n        }\n    }\n    return false;\n}\n\n//PHYSICS FUNCTIONS\nfunction linkMeshesAndBody(meshes,bodies){\n    //check meshes is of class Obstacle\n    if(bodies != undefined){\n        if(meshes.length != bodies.length && bodies != undefined){\n            console.log(\"Error linking meshes and bodies\")\n            console.log(\"Meshes: \"+meshes.length)\n            console.log(\"Bodies: \"+bodies.length)\n            return\n        }\n    }\n    else{\n        if(meshes.length >0){\n            for(let i = 0; i < meshes.length; i++){\n                if(meshes[i] instanceof Obstacle){\n                    meshes[i].mesh.position.copy(meshes[i].physicsBody.position)\n                    meshes[i].mesh.position.y -= Obstacle.yBodyDisplacement;\n                    meshes[i].mesh.quaternion.copy(meshes[i].physicsBody.quaternion)\n                }else{\n                    if(bodies[i]){\n                        meshes[i].position.copy(bodies[i].position)\n                        meshes[i].quaternion.copy(bodies[i].quaternion)\n                    }\n                }\n            }\n        }\n    }\n}\n//END PHYSICS FUNCTIONS\n\n\n\n//------------------END FUNCTIONS-----------------\n\n\n\n//---------------- ONLOAD EVENTS ----------------\nwindow.onload = function (){\n    createWorld(assetLoader);\n    var cash_val = document.querySelector(\"#cash-value\");\n    cash_val.innerHTML =  currentPrice;\n\n    const swiper = new Swiper('.swiper-container', {\n        direction: 'horizontal',\n        loop: true,\n        pagination: {\n          el: '.swiper-pagination',\n        },\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev',\n        },\n      });\n}\n//----------------- END ONLOAD EVENTS ------------\n\n//----------------- EVENT LISTENERS --------------\ndocument.querySelector('#start-game').addEventListener('click',function(){\n    document.querySelector('.container-button-settings').classList.remove('d-none');\n    if(currentPrice > 0){\n        alert(\"You are starting the game but you didn't spend all of your budget! \\nThis will make the others robot life easier!\")\n    }\n    if(options.settings.sound_enabled==true){\n        eyeOfTheTigerSound.play();\n    }\n\n    state = \"spawning\";\n    camera.fov = 20;\n    camera.updateProjectionMatrix();\n    document.querySelector('#start-game').style.display = 'none';\n    document.querySelector('.initial-screen').style.display = 'none';\n    \n\n\n    document.querySelector('#space-img').classList.remove('d-none');\n    gsap.to('#space-img',{\n        opacity: 0,\n        duration: options.gameConstants.buttonsInstructionsFadeDuration,\n        onComplete: function(){\n            document.querySelector('#space-img').style.display = 'none';\n        }\n    })\n\n    document.querySelector('#shift-img').classList.remove('d-none');\n    gsap.to('#shift-img',{\n        opacity: 0,\n        duration: options.gameConstants.buttonsInstructionsFadeDuration,\n        onComplete: function(){\n            document.querySelector('#space-img').style.display = 'none';\n        }\n    })\n\n})\n\n\n//Release Mode Controller\ndocument.querySelector('#release-obstacle').addEventListener('click',function(){\n    // releaseMode = !releaseMode;\n    releaseMode= true;\n    if(releaseMode){\n        console.log(\"enter release mode hide initial screen\")\n        document.querySelector('body').classList.add('pencil-cursor');\n        document.querySelector('.release-mode-container').classList.remove('d-none');\n        document.querySelector('#release-obstacle').setAttribute(\"enabled\",\"true\");\n        document.querySelector('.initial-screen').classList.add('d-none');\n    }\n    else{\n        document.querySelector('.initial-screen').classList.remove('d-none');\n        document.querySelector('body').classList.remove('pencil-cursor');\n        document.querySelector('#release-obstacle').setAttribute(\"enabled\",\"false\");\n    }\n\n    document.querySelector('.current-cash-container').classList.toggle('d-none')\n    insertOstacoli(assetLoader)\n})\n\ndocument.querySelector('#release-mode-exit').addEventListener('click',function(){\n    console.log(\"exit release mode\")\n    document.querySelector(\"#budget-finished\").classList.add(\"d-none\");\n    releaseMode = false;\n    if(!releaseMode){\n        document.querySelector('.initial-screen').classList.remove('d-none');\n        document.querySelector('body').classList.remove('pencil-cursor');\n\n        document.querySelector('.release-mode-container').classList.add('d-none');\n        document.querySelector('#release-obstacle').setAttribute(\"enabled\",\"false\");\n    }\n\n    document.querySelector('.current-cash-container').classList.toggle('d-none')\n})\n//END release Mode\n\n// START How it works\ndocument.querySelector('#how-it-works').addEventListener('click',function(){\n    document.querySelector('.initial-screen').classList.add('d-none');\n    document.querySelector('.how-it-works-container').classList.remove('d-none');\n})\n\ndocument.querySelector('#how-it-works-exit').addEventListener('click',function(){\n    document.querySelector('.initial-screen').classList.remove('d-none');\n    document.querySelector('.how-it-works-container').classList.add('d-none');\n})\n// END How it works\n\ndocument.querySelector(\"#play-again\").addEventListener(\"click\", function(){\n    location.reload();\n})\n\n\n// -------For the settings menu\ndocument.querySelector('#settings-button').addEventListener('click',function(){\n    document.querySelector('.initial-screen').classList.add('d-none');\n    document.querySelector('.settings-container').classList.remove('d-none');\n})\ndocument.querySelector('#settings-button').addEventListener('mouseenter',function(){\n    document.querySelector('#settings-button').classList.add('fa-spin');\n})\ndocument.querySelector('#settings-button').addEventListener('mouseleave',function(){\n    document.querySelector('#settings-button').classList.remove('fa-spin');\n})\ndocument.querySelectorAll('input[name=\"camera-view\"]').forEach(function(input){\n    input.addEventListener('change',function(){\n        options.gameConstants.camera_view = this.value;\n        console.log(\"camera view changed to \"+options.gameConstants.camera_view)\n    })\n})\ndocument.querySelectorAll('input[name=\"debug\"]').forEach(function(input){\n    input.addEventListener('change',function(){\n        if(this.value == 'true') options.settings.physic_debug = true;\n        else options.settings.physic_debug = false;\n        \n        console.log(\"debug changed to \"+options.settings.physic_debug)\n    })\n})\n\ndocument.querySelectorAll('input[name=\"audio\"]').forEach(function(input){\n    input.addEventListener('change',function(){\n        //if this.value is true, then the debug is enabled\n        if(this.value == 'true') options.settings.sound_enabled = true;\n        else options.settings.sound_enabled = false;\n    })\n})\n\n// to .change-camera-view button change the camera view from options\ndocument.querySelector('#change-camera-view').addEventListener('click',function(){\n    if(options.gameConstants.camera_view == 'third_person') options.gameConstants.camera_view = 'whole_view';\n    else options.gameConstants.camera_view = 'third_person';\n})\n\n//the same to #change-sound\ndocument.querySelector('#change-sound').addEventListener('click',function(){\n    options.settings.sound_enabled = !options.settings.sound_enabled;\n})\n\ndocument.querySelector('#settings-exit').addEventListener('click',function(){\n    document.querySelector('.initial-screen').classList.remove('d-none');\n    document.querySelector('.settings-container').classList.add('d-none');\n})\n\n\n\n\n\ndocument.addEventListener(\"keydown\", onDocumentKeyDown, false);\nfunction onDocumentKeyDown(event) {\n    if (state == 'running'){\n        var keyCode = event.which;\n        if (keyCode == 16) {\n            if(!PressedKeys.shift && state == 'running') robotArray[myRobotIndex].jumpAnimation();\n            PressedKeys.shift = true;\n        } else if (keyCode == 32) {\n            //get the obstacle from obstacleArray with the is_spawned flag set to true\n            //and call the punch animation on that obstacle\n            let spawnedObstacle = obstacleArray.filter(obstacle => obstacle.is_spawned == true);\n            if(!PressedKeys.space && state == 'running') robotArray[myRobotIndex].punchAnimation(null,spawnedObstacle,scene,world);\n            PressedKeys.space = true;\n        }\n    }\n};\ndocument.addEventListener(\"keyup\", onDocumentKeyUp, false);\nfunction onDocumentKeyUp(event) {\n    if (state == 'running'){\n        var keyCode = event.which;\n        if (keyCode == 16) {\n            PressedKeys.shift = false;\n        } else if (keyCode == 32) {\n            PressedKeys.space = false;\n        }\n    }\n};\n\n//----------------- END EVENT LISTENERS ----------","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.stopListenToKeyEvents = function () {\n\n\t\t\tthis._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = null;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\t\t\t\tscope._domElementKeyEvents = null;\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\trotateUp( 2 * Math.PI * scope.rotateSpeed / scope.domElement.clientHeight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\trotateUp( - 2 * Math.PI * scope.rotateSpeed / scope.domElement.clientHeight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\trotateLeft( 2 * Math.PI * scope.rotateSpeed / scope.domElement.clientHeight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\trotateLeft( - 2 * Math.PI * scope.rotateSpeed / scope.domElement.clientHeight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t    removePointer( event );\n\n\t\t    if ( pointers.length === 0 ) {\n\n\t\t        scope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t        scope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t        scope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t    }\n\n\t\t    scope.dispatchEvent( _endEvent );\n\n\t\t    state = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","import { Vec3, Quaternion, Shape } from 'cannon-es';\nimport { MeshBasicMaterial, SphereGeometry, BoxGeometry, PlaneGeometry, Mesh, CylinderGeometry, BufferGeometry, Float32BufferAttribute } from 'three';\n\nfunction CannonDebugger(scene, world, _temp) {\n  let {\n    color = 0x00ff00,\n    scale = 1,\n    onInit,\n    onUpdate\n  } = _temp === void 0 ? {} : _temp;\n  const _meshes = [];\n\n  const _material = new MeshBasicMaterial({\n    color: color != null ? color : 0x00ff00,\n    wireframe: true\n  });\n\n  const _tempVec0 = new Vec3();\n\n  const _tempVec1 = new Vec3();\n\n  const _tempVec2 = new Vec3();\n\n  const _tempQuat0 = new Quaternion();\n\n  const _sphereGeometry = new SphereGeometry(1);\n\n  const _boxGeometry = new BoxGeometry(1, 1, 1);\n\n  const _planeGeometry = new PlaneGeometry(10, 10, 10, 10); // Move the planeGeometry forward a little bit to prevent z-fighting\n\n\n  _planeGeometry.translate(0, 0, 0.0001);\n\n  function createConvexPolyhedronGeometry(shape) {\n    const geometry = new BufferGeometry(); // Add vertices\n\n    const positions = [];\n\n    for (let i = 0; i < shape.vertices.length; i++) {\n      const vertex = shape.vertices[i];\n      positions.push(vertex.x, vertex.y, vertex.z);\n    }\n\n    geometry.setAttribute('position', new Float32BufferAttribute(positions, 3)); // Add faces\n\n    const indices = [];\n\n    for (let i = 0; i < shape.faces.length; i++) {\n      const face = shape.faces[i];\n      const a = face[0];\n\n      for (let j = 1; j < face.length - 1; j++) {\n        const b = face[j];\n        const c = face[j + 1];\n        indices.push(a, b, c);\n      }\n    }\n\n    geometry.setIndex(indices);\n    geometry.computeBoundingSphere();\n    geometry.computeVertexNormals();\n    return geometry;\n  }\n\n  function createTrimeshGeometry(shape) {\n    const geometry = new BufferGeometry();\n    const positions = [];\n    const v0 = _tempVec0;\n    const v1 = _tempVec1;\n    const v2 = _tempVec2;\n\n    for (let i = 0; i < shape.indices.length / 3; i++) {\n      shape.getTriangleVertices(i, v0, v1, v2);\n      positions.push(v0.x, v0.y, v0.z);\n      positions.push(v1.x, v1.y, v1.z);\n      positions.push(v2.x, v2.y, v2.z);\n    }\n\n    geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n    geometry.computeBoundingSphere();\n    geometry.computeVertexNormals();\n    return geometry;\n  }\n\n  function createHeightfieldGeometry(shape) {\n    const geometry = new BufferGeometry();\n    const s = shape.elementSize || 1; // assumes square heightfield, else i*x, j*y\n\n    const positions = shape.data.flatMap((row, i) => row.flatMap((z, j) => [i * s, j * s, z]));\n    const indices = [];\n\n    for (let xi = 0; xi < shape.data.length - 1; xi++) {\n      for (let yi = 0; yi < shape.data[xi].length - 1; yi++) {\n        const stride = shape.data[xi].length;\n        const index = xi * stride + yi;\n        indices.push(index + 1, index + stride, index + stride + 1);\n        indices.push(index + stride, index + 1, index);\n      }\n    }\n\n    geometry.setIndex(indices);\n    geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n    geometry.computeBoundingSphere();\n    geometry.computeVertexNormals();\n    return geometry;\n  }\n\n  function createMesh(shape) {\n    let mesh = new Mesh();\n    const {\n      SPHERE,\n      BOX,\n      PLANE,\n      CYLINDER,\n      CONVEXPOLYHEDRON,\n      TRIMESH,\n      HEIGHTFIELD\n    } = Shape.types;\n\n    switch (shape.type) {\n      case SPHERE:\n        {\n          mesh = new Mesh(_sphereGeometry, _material);\n          break;\n        }\n\n      case BOX:\n        {\n          mesh = new Mesh(_boxGeometry, _material);\n          break;\n        }\n\n      case PLANE:\n        {\n          mesh = new Mesh(_planeGeometry, _material);\n          break;\n        }\n\n      case CYLINDER:\n        {\n          const geometry = new CylinderGeometry(shape.radiusTop, shape.radiusBottom, shape.height, shape.numSegments);\n          mesh = new Mesh(geometry, _material);\n          shape.geometryId = geometry.id;\n          break;\n        }\n\n      case CONVEXPOLYHEDRON:\n        {\n          const geometry = createConvexPolyhedronGeometry(shape);\n          mesh = new Mesh(geometry, _material);\n          shape.geometryId = geometry.id;\n          break;\n        }\n\n      case TRIMESH:\n        {\n          const geometry = createTrimeshGeometry(shape);\n          mesh = new Mesh(geometry, _material);\n          shape.geometryId = geometry.id;\n          break;\n        }\n\n      case HEIGHTFIELD:\n        {\n          const geometry = createHeightfieldGeometry(shape);\n          mesh = new Mesh(geometry, _material);\n          shape.geometryId = geometry.id;\n          break;\n        }\n    }\n\n    scene.add(mesh);\n    return mesh;\n  }\n\n  function scaleMesh(mesh, shape) {\n    const {\n      SPHERE,\n      BOX,\n      PLANE,\n      CYLINDER,\n      CONVEXPOLYHEDRON,\n      TRIMESH,\n      HEIGHTFIELD\n    } = Shape.types;\n\n    switch (shape.type) {\n      case SPHERE:\n        {\n          const {\n            radius\n          } = shape;\n          mesh.scale.set(radius * scale, radius * scale, radius * scale);\n          break;\n        }\n\n      case BOX:\n        {\n          mesh.scale.copy(shape.halfExtents);\n          mesh.scale.multiplyScalar(2 * scale);\n          break;\n        }\n\n      case PLANE:\n        {\n          break;\n        }\n\n      case CYLINDER:\n        {\n          mesh.scale.set(1 * scale, 1 * scale, 1 * scale);\n          break;\n        }\n\n      case CONVEXPOLYHEDRON:\n        {\n          mesh.scale.set(1 * scale, 1 * scale, 1 * scale);\n          break;\n        }\n\n      case TRIMESH:\n        {\n          mesh.scale.copy(shape.scale).multiplyScalar(scale);\n          break;\n        }\n\n      case HEIGHTFIELD:\n        {\n          mesh.scale.set(1 * scale, 1 * scale, 1 * scale);\n          break;\n        }\n    }\n  }\n\n  function typeMatch(mesh, shape) {\n    if (!mesh) return false;\n    const {\n      geometry\n    } = mesh;\n    return geometry instanceof SphereGeometry && shape.type === Shape.types.SPHERE || geometry instanceof BoxGeometry && shape.type === Shape.types.BOX || geometry instanceof PlaneGeometry && shape.type === Shape.types.PLANE || geometry.id === shape.geometryId && shape.type === Shape.types.CYLINDER || geometry.id === shape.geometryId && shape.type === Shape.types.CONVEXPOLYHEDRON || geometry.id === shape.geometryId && shape.type === Shape.types.TRIMESH || geometry.id === shape.geometryId && shape.type === Shape.types.HEIGHTFIELD;\n  }\n\n  function updateMesh(index, shape) {\n    let mesh = _meshes[index];\n    let didCreateNewMesh = false;\n\n    if (!typeMatch(mesh, shape)) {\n      if (mesh) scene.remove(mesh);\n      _meshes[index] = mesh = createMesh(shape);\n      didCreateNewMesh = true;\n    }\n\n    scaleMesh(mesh, shape);\n    return didCreateNewMesh;\n  }\n\n  function update() {\n    const meshes = _meshes;\n    const shapeWorldPosition = _tempVec0;\n    const shapeWorldQuaternion = _tempQuat0;\n    let meshIndex = 0;\n\n    for (const body of world.bodies) {\n      for (let i = 0; i !== body.shapes.length; i++) {\n        const shape = body.shapes[i];\n        const didCreateNewMesh = updateMesh(meshIndex, shape);\n        const mesh = meshes[meshIndex];\n\n        if (mesh) {\n          // Get world position\n          body.quaternion.vmult(body.shapeOffsets[i], shapeWorldPosition);\n          body.position.vadd(shapeWorldPosition, shapeWorldPosition); // Get world quaternion\n\n          body.quaternion.mult(body.shapeOrientations[i], shapeWorldQuaternion); // Copy to meshes\n\n          mesh.position.copy(shapeWorldPosition);\n          mesh.quaternion.copy(shapeWorldQuaternion);\n          if (didCreateNewMesh && onInit instanceof Function) onInit(body, mesh, shape);\n          if (!didCreateNewMesh && onUpdate instanceof Function) onUpdate(body, mesh, shape);\n        }\n\n        meshIndex++;\n      }\n    }\n\n    for (let i = meshIndex; i < meshes.length; i++) {\n      const mesh = meshes[i];\n      if (mesh) scene.remove(mesh);\n    }\n\n    meshes.length = meshIndex;\n  }\n\n  return {\n    update\n  };\n}\n\nexport { CannonDebugger as default };\n","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"Houses_SecondAge_1_Level1.8b615484.gltf\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"Wall_FirstAge.1e241b09.gltf\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"Farm_FirstAge_Level3_Wheat.70b473cd.gltf\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"sky_bg.f824c11c.png\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"land_bg.facec942.png\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"groundtexture.bb0250ef.png\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"shift.4d1a1e41.png\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"space.991b2c8d.png\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"countdown.c7b966a9.mp3\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"start.cf0dfc30.mp3\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"pop.10893ad6.mp3\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"trash.ed6e187a.mp3\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('i2u1X') + \"eyeofthetiger.c44e7f58.mp3\" + \"?\" + Date.now();"],"names":[],"version":3,"file":"index.d05d8996.js.map","sourceRoot":"/__parcel_source_root/"}